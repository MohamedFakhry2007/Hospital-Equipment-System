{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h2>Settings</h2>
    <hr>

    <!-- Alert container -->
    <div id="alertContainer"></div>

    <form method="POST" action="{{ url_for('views.save_settings_page') }}">
        <!-- Email Notifications Toggle -->
        <div class="mb-3 form-check form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="emailNotificationsToggle" name="email_notifications_enabled" {% if settings.email_notifications_enabled %}checked{% endif %}>
            <label class="form-check-label" for="emailNotificationsToggle">Enable Email Notifications for Reminders</label>
        </div>

        <!-- Time Interval for Emails -->
        <div class="mb-3">
            <label for="emailInterval" class="form-label">Reminder Email Check Interval (in minutes)</label>
            <input type="number" class="form-control" id="emailInterval" name="email_reminder_interval_minutes" value="{{ settings.email_reminder_interval_minutes | default(60) }}" placeholder="e.g., 60" min="1">
            <small class="form-text text-muted">This setting might be used by the system scheduler to determine how often to check for and send reminder emails. The exact behavior depends on the backend scheduler's implementation.</small>
        </div>

        <!-- Recipient Email -->
        <div class="mb-3">
            <label for="recipientEmailInput" class="form-label">Recipient Email Address</label>
            <input type="email" class="form-control" id="recipientEmailInput" name="recipient_email" value="{{ settings.recipient_email | default('') }}" placeholder="e.g., manager@example.com">
            <small class="form-text text-muted">If set, reminder emails will be sent to this address. If left blank, the system default recipient will be used.</small>
        </div>

        <!-- Desktop Push Notifications Toggle (Keep for future use, but not implemented in this task) -->
        <div class="mb-3 form-check form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="desktopNotificationsToggle" name="desktop_notifications" disabled>
            <label class="form-check-label" for="desktopNotificationsToggle">Enable Desktop Push Notifications (Feature not active)</label>
        </div>

        <hr>
        <button type="submit" class="btn btn-primary">Save Settings</button>
    </form>
</div>

{% endblock %}

{% block scripts %}
{{ super() }}
{% endblock %}
